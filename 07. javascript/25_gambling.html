<!-- 다 하면 붓스트랩으로 만든 화면 안에다가
만든 게임을 넣어보세요.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gambling Game</title>
    <script>
        window.onload = function () {
            let money = 10000;
            let count = 0;

            let moneyShow = document.getElementById('money');
            let countShow = document.getElementById('count');

            let start = document.getElementById('start')
            start.onclick = function () {
                startGame();
                /* 버튼 누를 때마다 보여줘야지 */
                moneyShow.innerHTML = money;
                countShow.innerText = count;

            }

            function startGame() {
                if (money === 0) {
                    alert('돈이 없네요.')
                    return false;
                }
                let result = [];

                let buttons = document.getElementsByClassName('button');

                /* 버튼에 들어오는 숫자를 JS에서 정하기 때문에 window.onload가 필요하다 */
                for (let button of buttons) {
                    let number = Math.floor(Math.random() * 3);
                    button.innerHTML = number;
                    result.push(number)

                    /* setTimeOut으로 물음표 2초 뒤에 지워지도록 */
                    /* 순전히 새 게임하는 느낌이 나게 */
                    setTimeout(function name(params) {
                        button.innerHTML = '?';
                        /* 밖으로 빼서 한 번에 하려고 해도 
                        어짜피 반복문을 쓰거나
                        [0],[1],[2] 인덱싱 해줘야 해서 
                        그냥 안으로 집어넣음. */
                    }, 2000);
                }

                if (result[0] === result[1] && result[1] === result[2]) {
                    money += 9000;
                } else {
                    money -= 1000;
                }
                count += 1;
            }
        }
    </script>
</head>

<body>
    <h1>갬블링 게임 _ 최원태</h1>
    <hr>
    <button id="start">시작버튼</button>
    <hr>
    <button class='button'>?</button>
    <button class='button'>?</button>
    <button class='button'>?</button>
    <br>
    <h3>
        <p>게임 머니: <span id='money'>10000</span></p>
        <p>홧수: <span id='count'>0</span> </p>
    </h3>
</body>

</html>