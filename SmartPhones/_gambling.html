<!DOCTYPE html>
<html lang="ko">

<head>
    <title>과제 - 스마트폰</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- 갬블링 로직 -->
    <script>
        window.onload = function () {
            let money = 10000;
            let count = 0;

            let moneyShow = document.getElementById('money');
            let countShow = document.getElementById('count');

            let start = document.getElementById('start')
            start.onclick = function () {
                startGame();
                /* 버튼 누를 때마다 보여줘야지 */
                moneyShow.innerHTML = money;
                countShow.innerText = count;

            }

            function startGame() {
                if (money === 0) {
                    alert('돈이 없네요.')
                    return false;
                }
                let result = [];

                let buttons = document.getElementsByClassName('button');

                /* 버튼에 들어오는 숫자를 JS에서 정하기 때문에 window.onload가 필요하다 */
                for (let button of buttons) {
                    let number = Math.floor(Math.random() * 3);
                    button.src = `./img/number_${number}.png`;
                    result.push(number)

                    /* setTimeOut으로 물음표 2초 뒤에 지워지도록 */
                    /* 순전히 새 게임하는 느낌이 나게 */
                    setTimeout(function name(params) {
                        button.src = `./img/question.png`
                        /* 밖으로 빼서 한 번에 하려고 해도 
                        어짜피 반복문을 쓰거나
                        [0],[1],[2] 인덱싱 해줘야 해서 
                        그냥 안으로 집어넣음. */
                    }, 2000);
                }

                if (result[0] === result[1] && result[1] === result[2]) {
                    money += 9000;
                } else {
                    money -= 1000;
                }
                count += 1;
            }
        }
    </script>
</head>

<body>
    <!-- 컨테이너 바깥은 Navbar가 올 자리 -->
    <nav class="navbar navbar-expand-sm bg-dark fixed-top">
        <!-- fixed-top으로 스크롤을 내려도 항상 위에 붙어있게 -->
        <ul class="nav mr-auto">

            <li class="nav-item">
                <img class="float-left" style="margin-right: 50px;" src="./img/hoseo.png" alt="Logo"
                    style="width:100%;height: 90%;">
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="index.html">홈</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" href="index.html">로그아웃</a>
            </li>
        </ul>

        <div class="navbar-text fixed-right text-white" id='weather'>
            홍길동님 반갑습니다.
            &nbsp;&nbsp;&nbsp;&nbsp;
            날씨: 맑음, 온도: 20&deg;C
        </div>
    </nav>
    <br><br> <!-- 밑에 컨테이너 시작 -->
    <div class="container">
        <div class="row">
            <div class="col-2">
                <!-- 네비게이터 -->
                <ul class="nav flex-column nav-tabs nav-pills">
                    <li class="nav-item">
                        <a class="nav-link text-dark " href="_history.html">
                            <strong>역사</strong>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="_android.html">
                            <strong>안드로이드</strong>
                        </a>
                    </li>


                    <li class="nav-item">
                        <a class="nav-link text-dark" href="_iphone.html">
                            <!-- 자기거는 눌러도 아무런 반응이 나지 않게 #으로 막아놓는다 -->
                            <!-- 파일이 바뀔 때마다 active로 다르게 해줘야 함 -->

                            <strong>아이폰</strong>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link text-dark " href="_sample.html">
                            <strong>샘플</strong>
                        </a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-dark" data-toggle="dropdown" href="#"><strong>2020년
                                출시</strong>
                        </a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="_2020.html">갤럭시 S20</a>
                            <a class="dropdown-item" href="_2020.html">V60 씽큐</a>
                            <a class="dropdown-item" href="_2020.html">아이폰 12</a>
                            <a class="dropdown-item" href="_2020.html">갤럭시 Z 플립</a>
                        </div>

                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark active" href="#">
                            <strong>갬블링 게임</strong>
                        </a>
                    </li>

                </ul>
                </ul>
            </div>
            <!-- 버튼 하이라이트 아직안함 -->

            <div class="col-10">
                <section>
                    <article id="history">
                        <h2 style="margin-top: 30px;"><a id="iphone" href="#">갬블링 게임</a></h2>
                        <hr>
                        <div>
                            <button type="button" id="start" class="btn btn-primary btn-lg">시작버튼</button>
                            <br><br>
                            <div>
                                <img src="./img/question.png" class="button rounded" alt="QuestionMark"
                                    style="width:150px;height:200px">
                                <img src="./img/question.png" class="button rounded" alt="QuestionMark"
                                    style="width:150px;height:200px">
                                <img src="./img/question.png" class="button rounded" alt="QuestionMark"
                                    style="width:150px;height:200px">
                            </div>
                            <!-- 결과판 -->
                            <div>
                                <h3>
                                    <p>게임 머니: <span id='money'>10000</span></p>
                                    <p>횟수: <span id='count'>0</span> </p>
                                </h3>
                            </div>
                        </div>
                    </article>




                </section>
            </div>

        </div>
    </div>

    </div>

    <nav class="navbar navbar-expand-sm bg-secondary justify-content-center navbar-dark fixed-bottom">

        <ul class="navbar-nav">
            <li class="nav-item">
                <p class="text-white text-lg">
                    Copyright 2020 by Wontae
                </p>
            </li>

        </ul>
    </nav>
</body>

</html>